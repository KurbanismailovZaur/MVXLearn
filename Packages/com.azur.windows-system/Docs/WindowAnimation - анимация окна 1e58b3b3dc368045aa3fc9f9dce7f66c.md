# WindowAnimation - –∞–Ω–∏–º–∞—Ü–∏—è –æ–∫–Ω–∞

–í –¥–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –æ–∫–æ–Ω –∞–Ω–∏–º–∞—Ü–∏—è –æ–∫–Ω–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç –æ–∫–Ω–∞, –æ–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–º `ScriptableObject`-–∫–ª–∞—Å—Å–æ–º `WindowAnimation` –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω—ã:

- `WindowActivationAnimation` - –∞–Ω–∏–º–∞—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.
- `WindowDeactivationAnimation` - –∞–Ω–∏–º–∞—Ü–∏—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏.

–£ –ª—é–±–æ–≥–æ –æ–∫–Ω–∞ –µ—Å—Ç—å –¥–≤–∞ –ø–æ–ª—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

- `DefaultWindowActivationAnimation` - –∞–Ω–∏–º–∞—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–∫–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
- `DefaultWindowDeactivationAnimation` - –∞–Ω–∏–º–∞—Ü–∏—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–∫–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

![image.png](image%201.png)

–í—ã –æ–±—è–∑–∞–Ω—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–∏ –¥–≤–∞ –ø–æ–ª—è –¥–æ —Ç–æ–≥–æ –∫–∞–∫ –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–∫–Ω–∞. –í –ø–∞–∫–µ—Ç–µ —É–∂–µ –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ–≥–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ–∫–Ω–∞:

- `TogglingActivationWindowAnimation` - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç –æ–∫–Ω–æ –≤ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
- `TogglingDeactivationWindowAnimation` - –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç –æ–∫–Ω–æ –≤ –∏–Ω–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞—Å—Å–µ—Ç–æ–≤ —ç—Ç–∏—Ö –∞–Ω–∏–º–∞—Ü–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ, –≤ –æ–∫–Ω–µ `Project` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é `Create` ‚Üí `Configs` ‚Üí `WindowsSystem` ‚Üí `Animations` ‚Üí `Toggling` –∏ –≤—ã–±–µ—Ä–∏—Ç–µ `Activation` –∏–ª–∏ `Deactivation`.

![image.png](image%202.png)

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∏—Ö –Ω—É–∂–Ω—ã–º –æ–∫–Ω–∞–º.

![image.png](image%203.png)

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –µ–≥–æ –æ—Ç `WindowActivationAnimation` –∏–ª–∏ `WindowDeactivationAnimation`, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ –Ω–µ–º –º–µ—Ç–æ–¥ `AnimateEnumerator` –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –Ω–µ–º –∫–æ–¥ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤–∞—à—É –∞–Ω–∏–º–∞—Ü–∏—é.

```csharp
using System.Collections;
using Azur.WindowsSystem;
using Azur.WindowsSystem.Animations;
using UnityEngine;

namespace MagicTeam.WindowsSystem.Animations
{
    [CreateAssetMenu(fileName = "FadingActivationWindowAnimation", menuName = "Configs/WindowsSystem/Animations/Fading/Activation")]
    public class FadingWindowActivationAnimation : WindowActivationAnimation
    {
        [SerializeField] private float _duration = 1f;
        
        // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥, —á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—é –∞–Ω–∏–º–∞—Ü–∏—é.
        public override IEnumerator AnimateEnumerator(Window window, bool useUnscaledTime)
        {
            var canvasGroup = (window as WindowWithCanvasGroup).CanvasGroup;

            while (canvasGroup.alpha < 1f)
            {
                canvasGroup.alpha += (useUnscaledTime ? Time.unscaledDeltaTime : Time.deltaTime) / _duration;
                yield return null;
            }
            
            canvasGroup.alpha = 1f;
        }
    }
}
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –º–µ—Ç–æ–¥ `AnimateEnumerator` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `useUnscaledTime`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Å–≤–æ–µ–π –∞–Ω–∏–º–∞—Ü–∏–∏. –ï—Å–ª–∏ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Ä–∞–≤–µ–Ω `true`, —Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–æ–π –ø–æ–¥—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∞–Ω–∏–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –±—É–¥–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç `Time.timeScale`, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Time.unscaledDeltaTime`.

<aside>
üí°

–í–∞–º –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ –ø–∞—Ä—É (Activation –∏ Deactivation) –∞–Ω–∏–º–∞—Ü–∏–π, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∏—Ö –Ω–∏—Ö –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–µ –≤ –æ–∫–Ω–∞—Ö.

</aside>